(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(62)},34:function(e,t,a){},58:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(17),o=a.n(s),c=(a(34),a(1)),l=a(2),r=a(5),u=a(4),m=a(6),h=a(3),d=a(63),p=a(65),b=a(66),v=a(18),f=a(11),g=a.n(f),j="funcrowd_user",O=new(function(){function e(){Object(c.a)(this,e),this.token=null,this.config={},this.is_logged=!1}return Object(l.a)(e,[{key:"login",value:function(e,t){this.token=e.token,this.is_logged=!0,this.config={headers:{Authorization:"Token "+e.token}},t&&localStorage.setItem(j,JSON.stringify(e))}},{key:"logout",value:function(){this.is_logged=!1,this.token=null,this.config={},localStorage.removeItem(j)}},{key:"getUser",value:function(){var e=null;try{e=JSON.parse(localStorage.getItem(j))}catch(t){}return e}}]),e}()),k=function(e){function t(e){return Object(c.a)(this,t),Object(r.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"mission-card card-2 font-light",onClick:this.props.onSelect},i.a.createElement("h4",null,this.props.mission.name),i.a.createElement("p",null,this.props.mission.description),i.a.createElement("div",{className:"progress mission-progress"},i.a.createElement("div",{className:"progress-bar mission-progress-bar",style:{width:"25%"}})),i.a.createElement("p",null,"0/0 uko\u0144czone")))}}]),t}(i.a.Component),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={missions:null,loading:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.get("http://localhost:8888/api/v1/missions",O.config).then(function(t){e.setState({loading:!1,missions:t.data})}).catch(function(t){e.setState({loading:!1}),console.log(t)})}},{key:"onSelect",value:function(){}},{key:"render",value:function(){var e=this;if(this.state.loading)return i.a.createElement("div",null,"Loading");var t=this.state.missions.map(function(t,a){return i.a.createElement(k,{key:a,mission:t,onSelect:function(){return e.props.onSelect(t)}})});return i.a.createElement("div",{className:"row"},t)}}]),t}(i.a.Component),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"row baserow"},i.a.createElement("div",{className:"col-sm-12 missions-header-bar"},i.a.createElement("h3",null,"A witojcie w Excelu tutorial"),i.a.createElement("p",null,"Najlepszy lorem ipsum tutorial do excela, wszystkiego sie tu nauczycie.")),i.a.createElement("div",{className:"col-sm-12"},i.a.createElement(E,{onSelect:this.props.onMissionSelect})))}}]),t}(i.a.Component),S=a(13),N=function(){function e(t,a,n,i){Object(c.a)(this,e),this.id=t,this.username=a,this.email=n,this.token=i}return Object(l.a)(e,null,[{key:"fromJson",value:function(t){return new e(t.id,t.username,t.email,t.token)}}]),e}(),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={login:"",password:"",stayLoggedIn:!1,loading:!1},a.validateForm=a.validateForm.bind(Object(h.a)(Object(h.a)(a))),a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"validateForm",value:function(){return this.state.login.length>0&&this.state.password.length>0}},{key:"handleChange",value:function(e){this.setState(Object(S.a)({},e.target.id,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.login,n=this.state.password,i=this.state.stayLoggedIn;this.setState({loading:!0}),g.a.post("http://localhost:8888/api/v1/users/login",{username:a,password:n}).then(function(e){var a=N.fromJson(e.data);t.props.onSuccess(a,i)}).catch(function(e){t.setState({loading:!1}),console.log(e),alert(e)})}},{key:"render",value:function(){return this.state.loading?i.a.createElement("div",null,"Loading"):i.a.createElement("div",{className:"login-app baseapp"},i.a.createElement("div",{className:"row baserow"},i.a.createElement("div",{className:"col-sm-8 offset-sm-2 card-3-static login-card"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("h3",null,"Zaloguj do systemu"),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Login"),i.a.createElement("input",{id:"login",type:"login",className:"form-control",value:this.state.email,onChange:this.handleChange,placeholder:"Login"}),i.a.createElement("small",{id:"loginHelp",className:"form-text text-muted"},"Nazwa u\u017cytkownika podana podczas rejestracji")),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Has\u0142o"),i.a.createElement("input",{id:"password",type:"password",className:"form-control",value:this.state.password,onChange:this.handleChange,placeholder:"Has\u0142o"})),i.a.createElement("div",{className:"form-check"},i.a.createElement("input",{id:"stayLoggedIn",type:"checkbox",className:"form-check-input",value:this.state.stayLoggedIn,onChange:this.handleChange}),i.a.createElement("label",{className:"form-check-label"},"Pozosta\u0144 zalogowany")),i.a.createElement("button",{type:"submit",disabled:!this.validateForm(),className:"btn btn-primary"},"Submit")))))))}}]),t}(i.a.Component),w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={},a.onLogout=a.onLogout.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onLogout",value:function(){this.props.onLogout()}},{key:"render",value:function(){var e=null,t=null;return this.props.user&&(e=i.a.createElement("div",null,"Hello, ",this.props.user.username),t=i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"nav-link",href:"#",onClick:this.onLogout},"Logout"))),i.a.createElement("nav",{className:"navbar card-2-static fixed-top navbar-expand-lg navbar-light bg-light"},i.a.createElement("a",{className:"navbar-brand",href:"#"},"FunCrowd"),e,i.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"},i.a.createElement("span",{className:"navbar-toggler-icon"})),i.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02"},i.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},i.a.createElement("li",{className:"nav-item active"},i.a.createElement("a",{className:"nav-link",href:"#",onClick:this.props.onNavigateToMissions},"Missions ",i.a.createElement("span",{className:"sr-only"},"(current)"))),i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"nav-link",href:"#"},"Link")),t)))}}]),t}(i.a.Component),L=function(e){function t(e){return Object(c.a)(this,t),Object(r.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"task-card card-2",onClick:this.props.onSelect},i.a.createElement("h4",null,this.props.task.name),i.a.createElement("p",null,"0/0 uko\u0144czone")))}}]),t}(i.a.Component),F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={tasks:null,loading:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.mission;g.a.get("http://localhost:8888/api/v1/missions/"+t.id+"/tasks",O.config).then(function(t){e.setState({loading:!1,tasks:t.data})}).catch(function(t){e.setState({loading:!1}),console.log(t)})}},{key:"onSelect",value:function(){}},{key:"render",value:function(){var e=this;if(this.state.loading)return i.a.createElement("div",null,"Loading");if(null==this.state.tasks)return null;var t=this.state.tasks.map(function(t,a){return i.a.createElement(L,{key:a,task:t,onSelect:function(){return e.props.onSelect(t)}})});return i.a.createElement("div",{className:"row"},t)}}]),t}(i.a.Component),M=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"row baserow"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("h3",null,"Taski")),i.a.createElement("div",{className:"col-sm-12"},i.a.createElement(F,{mission:this.props.mission,onSelect:this.props.onTaskSelect})))}}]),t}(i.a.Component),A=function(e){function t(e){return Object(c.a)(this,t),Object(r.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,this.props.name),i.a.createElement("div",null,this.props.value))}}]),t}(i.a.Component),T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"shouldComponentUpdate",value:function(e,t){return e.value!=this.props.value}},{key:"render",value:function(){return i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,this.props.name),i.a.createElement("input",{id:this.props.name,value:this.props.value,onChange:this.handleChange,className:"form-control",required:this.props.required,type:"text"}))}}]),t}(i.a.Component),D=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"shouldComponentUpdate",value:function(e,t){return e.value!=this.props.value}},{key:"render",value:function(){return i.a.createElement("label",{className:"radio-container"},i.a.createElement("input",{id:this.props.name,name:this.props.name,value:this.props.value,onChange:this.handleChange,type:"radio"}),i.a.createElement("span",{className:"radiomark"}),this.props.value)}}]),t}(i.a.Component),I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"shouldComponentUpdate",value:function(e,t){return e.value!=this.props.value}},{key:"render",value:function(){var e=this,t=this.props.source.map(function(t){return i.a.createElement(D,{key:t,name:e.props.name,onChange:e.handleChange,required:e.props.required,value:t})});return i.a.createElement("div",{className:"form-group"},t)}}]),t}(i.a.Component),x={TextLabel:A,ChoiceField:I,PDF:A,TextField:T,RadioField:I,MultiChoiceField:function(e){function t(e){return Object(c.a)(this,t),Object(r.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,this.props.name),i.a.createElement("div",null,this.props.value))}}]),t}(i.a.Component),SelectField:function(e){function t(e){return Object(c.a)(this,t),Object(r.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.value.map(function(e){return i.a.createElement("option",{value:e})});return i.a.createElement("div",{className:"form-group"},i.a.createElement("select",{className:"form-control"},e))}}]),t}(i.a.Component)},P=new(function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"create",value:function(e,t,a,n,s,o,c){if("Hidden"==e)return null;var l=x[e];return i.a.createElement(l,{name:t,value:a,source:n,key:t,required:s,disabled:o,onChange:c})}}]),e}()),z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={loading:!1,blocked:!1},a.setupItem(e.item),a.validateForm=a.validateForm.bind(Object(h.a)(Object(h.a)(a))),a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setItemState(this.props.item)}},{key:"componentWillReceiveProps",value:function(e){this.setItemState(e.item)}},{key:"setupItem",value:function(e){for(var t=0;t<e.template.fields.length;t++){var a=e.template.fields[t];this.state[a.name]=""}}},{key:"setItemState",value:function(e){for(var t={blocked:!1},a=0;a<e.template.fields.length;a++){var n=e.template.fields[a],i=e.data[n.name];null==i&&(i=""),t[n.name]=i}t.item=e,this.setState(t)}},{key:"validateForm",value:function(){for(var e=this.state.blocked,t=this.props.item,a=0;a<t.template.fields.length;a++){var n=t.template.fields[a];if(n.required&&n.editable&&!this.state[n.name])return!1}return!e}},{key:"handleChange",value:function(e){this.setState(Object(S.a)({},e.target.id,e.target.value))}},{key:"getAnnotationData",value:function(){for(var e=this.props.item,t={},a=0;a<e.template.fields.length;a++){var n=e.template.fields[a];n.editable&&(this.state[n.name]?t[n.name]=this.state[n.name]:t[n.name]="")}return t}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.props.item,n={data:this.getAnnotationData()};this.setState({loading:!0}),g.a.post("http://localhost:8888/api/v1/items/"+a.id+"/annotation",n,O.config).then(function(e){t.setState({loading:!1,blocked:!0}),t.props.onAnnotationPost(e)}).catch(function(e){t.setState({loading:!1}),alert(e)})}},{key:"render",value:function(){var e=this;if(this.state.loading)return i.a.createElement("div",null,"Loading");var t=this.props.item,a=t.template.fields.map(function(a){return P.create(a.widget,a.name,e.state[a.name],t.data[a.data_source],a.required,e.state.blocked,e.handleChange)});return i.a.createElement("form",{onSubmit:this.handleSubmit},a,i.a.createElement("button",{type:"submit",disabled:!this.validateForm(),className:"btn btn-primary"},"Submit"))}}]),t}(i.a.Component),_={ReferenceScore:function(e){function t(e){return Object(c.a)(this,t),Object(r.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"label label-warning"},i.a.createElement("label",null,this.props.name),i.a.createElement("div",null,this.props.value))}}]),t}(i.a.Component),ReferenceValue:function(e){function t(e){return Object(c.a)(this,t),Object(r.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"label label-info"},i.a.createElement("label",null,this.props.name),i.a.createElement("div",null,this.props.value))}}]),t}(i.a.Component)},q=new(function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"create",value:function(e,t){if(null!=t){var a=_[e];return i.a.createElement(a,{key:e,name:e,value:t})}return null}}]),e}()),U=function(e){function t(e){return Object(c.a)(this,t),Object(r.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=[];for(var t in this.props.values){var a=this.props.values[t];e.push(q.create(t,a))}return i.a.createElement("div",null,this.props.field_name,"Punkty:",i.a.createElement("div",null,e))}}]),t}(i.a.Component),J=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={},a.onAccept=a.onAccept.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"onAccept",value:function(){this.props.onAccept()}},{key:"getFields",value:function(e){var t=[];for(var a in e){var n=e[a];t.push(i.a.createElement(U,{key:a,field_name:a,values:n}))}return t}},{key:"render",value:function(){var e=this.props.feedback,t=this.getFields(e.scores),a=this.getFields(e.values);return i.a.createElement("div",null,i.a.createElement("div",{className:"shadow"}),i.a.createElement("div",{className:"feedback-panel card-3-static"},"Feedback scores",t,"values",a,i.a.createElement("div",{className:"btn btn-primary",onClick:this.onAccept},"Akcept")))}}]),t}(i.a.Component),H=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={item:null,loading:!0,feedback:null},a.onAnnotationPost=a.onAnnotationPost.bind(Object(h.a)(Object(h.a)(a))),a.onFeedbackAccept=a.onFeedbackAccept.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getFirstItem()}},{key:"getFirstItem",value:function(){var e=this,t=this.props.task;g.a.get("http://localhost:8888/api/v1/tasks/"+t.id+"/next_item",O.config).then(function(t){e.setState({loading:!1,item:t.data})}).catch(function(t){e.setState({loading:!1}),console.log(t)})}},{key:"getNextItem",value:function(){var e=this,t=this.state.item;g.a.get("http://localhost:8888/api/v1/items/"+t.id+"/next_item",O.config).then(function(t){e.setState({loading:!1,item:t.data})}).catch(function(t){e.setState({loading:!1}),console.log(t)})}},{key:"onAnnotationPost",value:function(e){var t=e.data.annotation.feedback;t?this.setState({feedback:t}):this.onFeedbackAccept()}},{key:"onFeedbackAccept",value:function(){this.state.feedback&&this.setState({feedback:null}),this.getNextItem()}},{key:"render",value:function(){if(this.state.loading)return i.a.createElement("div",null,"Loading");var e=null;return this.state.feedback&&(e=i.a.createElement(J,{feedback:this.state.feedback,onAccept:this.onFeedbackAccept})),i.a.createElement("div",{className:"row baserow"},e,i.a.createElement("div",{className:"col-sm-12 item-panel card-1-static"},i.a.createElement("h3",null,"Item"),i.a.createElement(z,{item:this.state.item,onAnnotationPost:this.onAnnotationPost})))}}]),t}(i.a.Component),R=v.b.div({}),W=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={user:null,mission:null,task:null},a.onLogin=a.onLogin.bind(Object(h.a)(Object(h.a)(a))),a.onLogout=a.onLogout.bind(Object(h.a)(Object(h.a)(a))),a.onMissionSelect=a.onMissionSelect.bind(Object(h.a)(Object(h.a)(a))),a.onTaskSelect=a.onTaskSelect.bind(Object(h.a)(Object(h.a)(a))),a.navigateToMissions=a.navigateToMissions.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.checkSessionUser()}},{key:"checkSessionUser",value:function(){var e=O.getUser();e&&this.onLogin(e)}},{key:"onLogin",value:function(e,t){O.login(e,t),this.setState({user:e}),this.props.history.push("/missions")}},{key:"onLogout",value:function(){this.setState({user:null}),O.logout(),this.props.history.push("/")}},{key:"onMissionSelect",value:function(e){this.setState({mission:e}),this.props.history.push("/tasks")}},{key:"onTaskSelect",value:function(e){this.setState({task:e}),this.props.history.push("/item")}},{key:"navigateToMissions",value:function(){this.props.history.push("/missions")}},{key:"render",value:function(){var e=this;return i.a.createElement(d.a,{render:function(t){var a=t.location;return i.a.createElement("div",{className:"container h-100"},i.a.createElement(w,{user:e.state.user,onLogout:e.onLogout,onNavigateToMissions:e.navigateToMissions}),i.a.createElement(v.a,{preEnterPose:"preenter",className:"h-100 w-100"},i.a.createElement(R,{key:a.pathname},i.a.createElement(p.a,{location:a},i.a.createElement(d.a,{exact:!0,path:"/",render:function(t){return i.a.createElement(C,Object.assign({onSuccess:e.onLogin},t))}}),i.a.createElement(d.a,{path:"/missions",render:function(t){return i.a.createElement(y,Object.assign({onMissionSelect:e.onMissionSelect,user:e.state.user},t))}}),i.a.createElement(d.a,{path:"/tasks",render:function(t){return i.a.createElement(M,Object.assign({onTaskSelect:e.onTaskSelect,mission:e.state.mission,user:e.state.user},t))}}),i.a.createElement(d.a,{path:"/item",render:function(t){return i.a.createElement(H,Object.assign({task:e.state.task,user:e.state.user},t))}})))))}})}}]),t}(i.a.Component),B=Object(b.a)(W),V=a(64),Z=(a(58),a(60),function(e){function t(){return Object(c.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(V.a,null,i.a.createElement(B,null)))}}]),t}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,2,1]]]);
//# sourceMappingURL=main.8f497caf.chunk.js.map